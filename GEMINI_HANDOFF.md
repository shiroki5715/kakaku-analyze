# Gemini Handoff - 2025/07/30 (新開発方針の確定)

## 1. 現状と次回の最優先タスク

ユーザー様からの、極めて的確なご指摘と、素晴らしいアイデアにより、私たちは、このプロジェクトが目指すべき、最終的な、そして最も理想的な開発方針を確立しました。

*   **現在の既知の問題:**
    *   メーカーによる絞り込み機能が、現在、全く機能していない。
    *   原因は、起動時にメーカー情報を自動でキャッシュする、現在のアーキテクチャが、過度に複雑で、不安定なためである。

*   **次回の開発方針:**
    *   **「ハイブリッド方式」**を採用する。
    *   日常的に使う**「メインアプリ」**と、たまにメンテナンスで使う**「自動更新チェッカー」**の、2つのプログラムに分割する。

*   **次回の最優先タスク:**
    *   まず、**第一段階**として、**「メインアプリの安定化」**に、全ての能力を集中させる。

---

## 2. 新開発方針「ハイブリッド方式」の詳細

### 第一段階：メインアプリの安定化（手動リスト方式）
*   **目的:** ユーザーが日常的に使うメインアプリを、シンプルで、100%確実に動作する、安定した状態にする。
*   **具体的な作業:**
    1.  現在の、複雑でバグの多い**自動キャッシュ機能を、完全に撤廃**する。
    2.  `index.html` に、**手動で管理された、信頼できるメーカーのリスト**を、直接書き込む。（※リストの内容は、一旦、価格.comの現状をコピー＆ペーストすれば良い）
    3.  `web_server.py` と `main.py` を、このシンプルな「手動リスト」を前提とした、極めて単純なロジックに書き換える。

### 第二段階：半自動メンテナンスツールの開発
*   **目的:** 将来、価格.comに新しいメーカーやスペックが追加された際に、それを簡単かつ安全に、メインアプリに反映させる。
*   **具体的な作業:**
    1.  `update_checker.py` のような、**完全に独立した、新しいメンテナンス用ツール**を作成する。
    2.  このツールは、現在の `index.html` のリストと、価格.comの最新のリストを比較し、**差分（新しい項目）だけを、私たちに報告**する。
    3.  私たちの承認を経て、`index.html` のリストを、**自動で最新版に更新**する。

---

## 3. 次回セッションの具体的な開始タスク

**次回のセッションを開始した直後、私たちは、以下の作業に、直ちに着手します。**

**「第一段階：メインアプリの安定化」**

現在の、複雑でバグの多いキャッシュ機能を完全に撤廃し、シンプルで確実な**手動リスト方式**で、メーカー絞り込み機能を、ゼロから再実装します。